<section>
  <h1>Novo Pedido</h1>

  <mat-card>
    <form [formGroup]="form">
      <mat-card-header>
        <mat-card-title>{{ 'Pedido n√∫mero #' + orderNumber }}</mat-card-title>
        <mat-card-subtitle>Adicione ao menos um produto.</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <button mat-stroked-button (click)="addProduct()">Adicionar produto</button>
        <div *ngIf="formProductsArray?.controls?.length; else noProducts">
          <app-new-product
            *ngFor="let product of formProductsArray.controls; let i = index"
            [idx]="i">
          </app-new-product>
        </div>
        <div><ng-template #noProducts>Nenhum produto foi adicionado.</ng-template></div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-flat-button color="primary" (click)="addOrder()" [disabled]="form.invalid">
          Efetuar Pedido
        </button>
      </mat-card-actions>
    </form>
  </mat-card>
</section>
